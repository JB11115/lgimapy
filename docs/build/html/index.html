
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>lgimapy: LGIMA’s powerful Python analysis package &#8212; lgimapy 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">lgimapy 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="lgimapy-lgima-s-powerful-python-analysis-package">
<h1>lgimapy: LGIMA’s powerful Python analysis package<a class="headerlink" href="#lgimapy-lgima-s-powerful-python-analysis-package" title="Permalink to this headline">¶</a></h1>
<p><strong>Date</strong>: Dec 05, 2019 <strong>Version</strong>: 0.0.1</p>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="module-lgimapy.data">
<span id="lgimapy-data"></span><h2>lgimapy data<a class="headerlink" href="#module-lgimapy.data" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="lgimapy.data.concat_index_dfs">
<code class="descclassname">lgimapy.data.</code><code class="descname">concat_index_dfs</code><span class="sig-paren">(</span><em>dfs</em>, <em>join='outer'</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.concat_index_dfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Append two :attr:<a href="#id1"><span class="problematic" id="id2">`</span></a>Index.df`s.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dfs</strong> (List[<a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>].) – List of DataFrames to append together.</li>
<li><strong>join</strong> (<em>{'inner'</em><em>, </em><em>'outer'}</em><em>, </em><em>default='outer'</em>) – How to handle indexes on other axis(es).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>df</strong> – Combined DataFrame of all specified dfs.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.data.new_issue_mask">
<code class="descclassname">lgimapy.data.</code><code class="descname">new_issue_mask</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.new_issue_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create mask for input DataFrame which returns
a boolean mask indicating which bonds are
currently in the month they were originally issued.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame from <a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Boolean mask for whether current date is in
orinal issue month.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List[bool]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.data.spread_diff">
<code class="descclassname">lgimapy.data.</code><code class="descname">spread_diff</code><span class="sig-paren">(</span><em>df1</em>, <em>df2</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.spread_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate spread difference for cusips from single
date :attr:<a href="#id3"><span class="problematic" id="id4">`</span></a>Index.df`s df1 to df2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>df1</strong> (<a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>) – Older <a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>.</li>
<li><strong>df2</strong> (<a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>) – Newer <a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>df</strong> – DataFrame with OAS difference computed.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.data.standardize_cusips">
<code class="descclassname">lgimapy.data.</code><code class="descname">standardize_cusips</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.standardize_cusips" title="Permalink to this definition">¶</a></dt>
<dd><p>Standardize CUSIPs, converting cusips which changed name
to most recent cusip value for full history.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame of selected index cusips.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>df</strong> – DataFrame with all CUSIPs updated to current values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pd.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="lgimapy.data.Bond">
<em class="property">class </em><code class="descclassname">lgimapy.data.</code><code class="descname">Bond</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Bond" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for bond math and manipulation given current
state of the bond.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> (<em>pd.Series</em>) – Single bond row from <a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="lgimapy.data.Bond.all_trade_dates">
<code class="descname">all_trade_dates</code><a class="headerlink" href="#lgimapy.data.Bond.all_trade_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized list of trade dates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[datetime]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Bond.cash_flows">
<code class="descname">cash_flows</code><a class="headerlink" href="#lgimapy.data.Bond.cash_flows" title="Permalink to this definition">¶</a></dt>
<dd><p>Load/scrape cash flows with datetime index for
the bond from current bond date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">pd.Series</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Bond.coupon_dates">
<code class="descname">coupon_dates</code><a class="headerlink" href="#lgimapy.data.Bond.coupon_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized list of timestamps for all coupons.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[datetime]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Bond.coupon_years">
<code class="descname">coupon_years</code><a class="headerlink" href="#lgimapy.data.Bond.coupon_years" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized time in years from <code class="xref py py-attr docutils literal notranslate"><span class="pre">Bond.Date</span></code>
for all coupons.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Bond.cusip">
<code class="descname">cusip</code><a class="headerlink" href="#lgimapy.data.Bond.cusip" title="Permalink to this definition">¶</a></dt>
<dd><p>Cusip of <a class="reference internal" href="#lgimapy.data.Bond" title="lgimapy.data.Bond"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bond</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Bond.next_coupon_date">
<code class="descname">next_coupon_date</code><a class="headerlink" href="#lgimapy.data.Bond.next_coupon_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Date of next coupon.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Bond.theoretical_ytm">
<code class="descname">theoretical_ytm</code><span class="sig-paren">(</span><em>price</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Bond.theoretical_ytm" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate yield to maturity of the bond using true coupon
values and dates and specified price.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>price</strong> (<em>float:</em>) – Price of the bond to use when calculating yield to maturity.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>ytm</strong> – Yield to maturity of the bond at specified price.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Bond.ytm">
<code class="descname">ytm</code><a class="headerlink" href="#lgimapy.data.Bond.ytm" title="Permalink to this definition">¶</a></dt>
<dd><p>float
Memoized yield to maturity of the bond at market
dirty price using true coupon values and dates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">ytm</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lgimapy.data.SyntheticTBill">
<em class="property">class </em><code class="descclassname">lgimapy.data.</code><code class="descname">SyntheticTBill</code><span class="sig-paren">(</span><em>date</em>, <em>ytm</em>, <em>days_to_maturity</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.SyntheticTBill" title="Permalink to this definition">¶</a></dt>
<dd><p>Synthetic treasury bond with yield equal to
the fed funds midpoint. Useful for fitting
treasury curve front end.</p>
<dl class="attribute">
<dt id="lgimapy.data.SyntheticTBill.DirtyPrice">
<code class="descname">DirtyPrice</code><a class="headerlink" href="#lgimapy.data.SyntheticTBill.DirtyPrice" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate theoretical price of the bond
using the fed funds rate ytm.</p>
<dl class="docutils">
<dt>float:</dt>
<dd>Theoretical price ($) of <a class="reference internal" href="#lgimapy.data.TBond" title="lgimapy.data.TBond"><code class="xref py py-class docutils literal notranslate"><span class="pre">TBond</span></code></a>.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.SyntheticTBill.calculate_price_with_curve">
<code class="descname">calculate_price_with_curve</code><span class="sig-paren">(</span><em>curve</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.SyntheticTBill.calculate_price_with_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate theoretical price of bond with given
zero curve.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>curve</strong> (<em>pd.Series</em>) – Yield curve values with maturity index.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Theoretical price ($) of <a class="reference internal" href="#lgimapy.data.TBond" title="lgimapy.data.TBond"><code class="xref py py-class docutils literal notranslate"><span class="pre">TBond</span></code></a>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.SyntheticTBill.theoretical_ytm">
<code class="descname">theoretical_ytm</code><span class="sig-paren">(</span><em>price</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.SyntheticTBill.theoretical_ytm" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate yield to maturity of the bond using true coupon
values and dates and specified price.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>price</strong> (<em>float:</em>) – Price of the bond to use when calculating yield to maturity.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>ytm</strong> – Yield to maturity of the bond at specified price.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lgimapy.data.TBond">
<em class="property">class </em><code class="descclassname">lgimapy.data.</code><code class="descname">TBond</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.TBond" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for treasury bond math and manipulation given current
state of the bond.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> (<em>pd.Series</em>) – Single bond row from <a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="lgimapy.data.TBond.AccruedInterest">
<code class="descname">AccruedInterest</code><a class="headerlink" href="#lgimapy.data.TBond.AccruedInterest" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate accrued interest with methodology that
matches Port/Point analytics for treasuries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Accrued interest for $100 face value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.TBond.DirtyPrice">
<code class="descname">DirtyPrice</code><a class="headerlink" href="#lgimapy.data.TBond.DirtyPrice" title="Permalink to this definition">¶</a></dt>
<dd><p>Dirty price ($).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.TBond.all_cash_flows">
<code class="descname">all_cash_flows</code><a class="headerlink" href="#lgimapy.data.TBond.all_cash_flows" title="Permalink to this definition">¶</a></dt>
<dd><p>Load/scrape all cash flows with datetime index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">pd.Series</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.TBond.calculate_price">
<code class="descname">calculate_price</code><span class="sig-paren">(</span><em>rfr</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.TBond.calculate_price" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate theoretical price of the bond with given
risk free rate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rfr</strong> (<em>float</em>) – Continuously compounded risk free rate used to discount
cash flows.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Theoretical price ($) of <a class="reference internal" href="#lgimapy.data.TBond" title="lgimapy.data.TBond"><code class="xref py py-class docutils literal notranslate"><span class="pre">TBond</span></code></a>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.TBond.calculate_price_with_curve">
<code class="descname">calculate_price_with_curve</code><span class="sig-paren">(</span><em>curve</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.TBond.calculate_price_with_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate theoretical price of bond with given
zero curve.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>curve</strong> (<em>pd.Series</em>) – Yield curve values with maturity index.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Theoretical price ($) of <a class="reference internal" href="#lgimapy.data.TBond" title="lgimapy.data.TBond"><code class="xref py py-class docutils literal notranslate"><span class="pre">TBond</span></code></a>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.TBond.cash_flows">
<code class="descname">cash_flows</code><a class="headerlink" href="#lgimapy.data.TBond.cash_flows" title="Permalink to this definition">¶</a></dt>
<dd><p>Get future cashflows from current date. Check settlement
date to verify the next coupon is correct.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">pd.Series</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.TBond.coupon_dates">
<code class="descname">coupon_dates</code><a class="headerlink" href="#lgimapy.data.TBond.coupon_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized list of timestamps for all coupons.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[datetime]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.TBond.settlement_date">
<code class="descname">settlement_date</code><a class="headerlink" href="#lgimapy.data.TBond.settlement_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Next settlment date from current date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lgimapy.data.TreasuryCurve">
<em class="property">class </em><code class="descclassname">lgimapy.data.</code><code class="descname">TreasuryCurve</code><span class="sig-paren">(</span><em>date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.TreasuryCurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for loading treasury yield curve and calculating yields
for specified dates and maturities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – Default date to use for curves and KRD parameters.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lgimapy.data.TreasuryCurve.KRDs">
<code class="descname">KRDs</code><span class="sig-paren">(</span><em>date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.TreasuryCurve.KRDs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get yields for given date and maturity values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – Date to return curve for. If None, the default
date is used.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Key rate durations for specified date.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.TreasuryCurve.coupons">
<code class="descname">coupons</code><span class="sig-paren">(</span><em>date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.TreasuryCurve.coupons" title="Permalink to this definition">¶</a></dt>
<dd><p>Get yields for given date and maturity values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – Date to return curve for. If None, the default
date is used.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Coupons for each treasury in treasury portfolio at
key rate duration maturities for specified date.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.TreasuryCurve.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>date=None</em>, <em>trange=(0</em>, <em>30)</em>, <em>ax=None</em>, <em>figsize=(8</em>, <em>6)</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.TreasuryCurve.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot yield curve.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>date</strong> (<em>datetime</em>) – Date at which to plot yield curve.</li>
<li><strong>trange</strong> (<em>Tuple</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>default=</em><em>(</em><em>0.1</em><em>, </em><em>30</em><em>)</em><em></em>) – Range (min, max) in years to show.</li>
<li><strong>ax</strong> (<em>matplotlib axis</em><em>, </em><em>default=None</em>) – Matplotlib axis to plot figure, if None one is created.</li>
<li><strong>figsize</strong> (<em>list</em><em> or </em><em>tuple</em><em>, </em><em>default=</em><em>(</em><em>6</em><em>, </em><em>6</em><em>)</em><em></em>) – Figure size.</li>
<li><strong>**kwargs</strong> (<em>dict</em>) – Kwargs for matplotlib plotting.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.TreasuryCurve.set_date">
<code class="descname">set_date</code><span class="sig-paren">(</span><em>date</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.TreasuryCurve.set_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Set default date.</p>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.TreasuryCurve.trade_dates">
<code class="descname">trade_dates</code><a class="headerlink" href="#lgimapy.data.TreasuryCurve.trade_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>List of traded dates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[datetime]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.TreasuryCurve.trets">
<code class="descname">trets</code><span class="sig-paren">(</span><em>date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.TreasuryCurve.trets" title="Permalink to this definition">¶</a></dt>
<dd><p>Get yields for given date and maturity values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – Date to return curve for. If None, the default
date is used.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Total returns for treasury portfolio at key
rate duration maturities for specified date.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.TreasuryCurve.yields">
<code class="descname">yields</code><span class="sig-paren">(</span><em>t=None</em>, <em>date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.TreasuryCurve.yields" title="Permalink to this definition">¶</a></dt>
<dd><p>Get yields for given date and maturity values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t</strong> (<em>float</em><em> or </em><em>ndarray</em><em>[</em><em>float</em><em>]</em><em>, </em><em>default=None</em>) – Maturites to interpolate points on the curve for.
If none, the entire curve is returned.</li>
<li><strong>date</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – Date to return curve for. If None, the default
date is used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Yield curve values with maturity (yrs) index.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.Series</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lgimapy.data.Index">
<em class="property">class </em><code class="descclassname">lgimapy.data.</code><code class="descname">Index</code><span class="sig-paren">(</span><em>index_df</em>, <em>name=''</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for indexes built by <a class="reference internal" href="#lgimapy.data.Database" title="lgimapy.data.Database"><code class="xref py py-class docutils literal notranslate"><span class="pre">Database</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index_df</strong> (<em>pd.DataForame</em>) – Index DataFrame from <a class="reference internal" href="#lgimapy.data.Database.build_market_index" title="lgimapy.data.Database.build_market_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Database.build_market_index()</span></code></a>.</li>
<li><strong>name</strong> (<em>str</em><em>, </em><em>default=''</em>) – Optional name of index.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="lgimapy.data.Index.df">
<code class="descname">df</code><a class="headerlink" href="#lgimapy.data.Index.df" title="Permalink to this definition">¶</a></dt>
<dd><p>Full Index DataFrame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">pd.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.aggregate_excess_returns">
<code class="descname">aggregate_excess_returns</code><span class="sig-paren">(</span><em>start_date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.aggregate_excess_returns" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate excess returns since start date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start_date</strong> (<em>datetime</em>) – Date to start aggregating returns.</li>
<li><strong>col_name</strong> (<em>str</em>) – Column name to store aggregate returns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Aggregated excess returns for either full index
or individual cusips.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float or pd.Seires</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Index.all_trade_dates">
<code class="descname">all_trade_dates</code><a class="headerlink" href="#lgimapy.data.Index.all_trade_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized list of trade dates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[datetime]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Index.bonds">
<code class="descname">bonds</code><a class="headerlink" href="#lgimapy.data.Index.bonds" title="Permalink to this definition">¶</a></dt>
<dd><p>List of individual bonds in index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[<a class="reference internal" href="#lgimapy.data.Bond" title="lgimapy.data.Bond"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bond</span></code></a>]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.clean_treasuries">
<code class="descname">clean_treasuries</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.clean_treasuries" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean treasury index for build model curve.</p>
<p>Keep only non-callable treasuries. Additionally,
remove bonds that have current maturities less than
the original maturity of another tenor (e.g., remove
30 year bonds once their matuirty is less than 10 years,
10 and 7,7 and 5, etc.).</p>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.clear_day_cache">
<code class="descname">clear_day_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.clear_day_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear cache of stored days.</p>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.compute_excess_returns">
<code class="descname">compute_excess_returns</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.compute_excess_returns" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute excess returns for all cusips in index.</p>
<p>Appends results as new column <cite>XSRet</cite> in <a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.compute_total_returns">
<code class="descname">compute_total_returns</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.compute_total_returns" title="Permalink to this definition">¶</a></dt>
<dd><p>Vectorized implementation for computing total returns
for all cusips in index, adjusting for coupon delivery
and reinvestment.</p>
<p>Appends results as new column <cite>TRet</cite> in <a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Create copy of current <a class="reference internal" href="#lgimapy.data.Index" title="lgimapy.data.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Index.cusips">
<code class="descname">cusips</code><a class="headerlink" href="#lgimapy.data.Index.cusips" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized unique cusips in index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Index.dates">
<code class="descname">dates</code><a class="headerlink" href="#lgimapy.data.Index.dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized unique sorted dates in index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[datetime]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.day">
<code class="descname">day</code><span class="sig-paren">(</span><em>date</em>, <em>as_index=False</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.day" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized call to a dict of single day DataFrame
with date and all computed columns as key. If new
columns are added to <a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>, an updated
single day DataFrame is loaded and saved to cache.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date</strong> (<em>datetime object</em>) – Date of daily DataFrame to return.</li>
<li><strong>as_index</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If true, return an <a class="reference internal" href="#lgimapy.data.Index" title="lgimapy.data.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> for specified day instead
of a DataFrame.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>df or Index</strong> – DataFrame or Index for single specified date.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame or <a class="reference internal" href="#lgimapy.data.Index" title="lgimapy.data.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.find_rating_changes">
<code class="descname">find_rating_changes</code><span class="sig-paren">(</span><em>rating_agency</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.find_rating_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Find rating changes of persistent index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rating_agency</strong> (<em>{'SP'</em><em>, </em><em>'Moody'</em><em>, </em><em>'Fitch'}.</em>) – Rating agency to find changes for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>change_df</strong> – DataFrame of all rating changes, with no index,
columns are: <code class="docutils literal notranslate"><span class="pre">['cusip',</span> <span class="pre">'date',</span> <span class="pre">'change',</span> <span class="pre">'new_val',</span>
<span class="pre">'old_val',</span> <span class="pre">'sector',</span> <span class="pre">'subsector']</span></code>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pd.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.get_cusip_history">
<code class="descname">get_cusip_history</code><span class="sig-paren">(</span><em>cusip</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.get_cusip_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Get full history for specified cusip.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cusip</strong> (<em>str</em>) – Specified cusip.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">DataFrame with datetime index and <a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>
columns for specified cusip.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pd.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.get_synthetic_differenced_history">
<code class="descname">get_synthetic_differenced_history</code><span class="sig-paren">(</span><em>col</em>, <em>dropna=False</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.get_synthetic_differenced_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the difference history of a column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>col</strong> (<em>str</em>) – Column from <a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a> to build synthetic
differenced history for (e.g., ‘OAS’).</li>
<li><strong>dropna</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True drop columns with missing values for either
<cite>MarketValue</cite> or specified column.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Series of sythetically differenced market value
weighting for specified column.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.Series</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.get_value_history">
<code class="descname">get_value_history</code><span class="sig-paren">(</span><em>col</em>, <em>start=None</em>, <em>end=None</em>, <em>inclusive_end_date=True</em>, <em>synthetic=False</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.get_value_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Get history of any column for all cusips in Index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>col</strong> (<em>str</em>) – Column from <a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a> to build history for (e.g., ‘OAS’).</li>
<li><strong>start</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – Start date for value history.</li>
<li><strong>end</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – End date for value history.</li>
<li><strong>inclusive_end_date</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True include end date in returned DataFrame.
If False do not include end date.</li>
<li><strong>synthethic</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, use synthethic day data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">DataFrame with datetime index, CUSIP columns, and price values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Index.issuers">
<code class="descname">issuers</code><a class="headerlink" href="#lgimapy.data.Index.issuers" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized unique sorted issuers in index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.market_value_weight">
<code class="descname">market_value_weight</code><span class="sig-paren">(</span><em>col</em>, <em>synthetic=False</em>, <em>dropna=False</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.market_value_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Market value weight a specified column vs entire
index market value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>col</strong> (<em>str</em>) – Column name to weight, (e.g., ‘OAS’).</li>
<li><strong>synthethic</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, use synthethic day data.</li>
<li><strong>dropna</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True drop columns with missing values for either
<cite>MarketValue</cite> or specified column.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Series of market value weighting for specified column.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.Series</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Index.sectors">
<code class="descname">sectors</code><a class="headerlink" href="#lgimapy.data.Index.sectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized unique sorted sectors in index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Index.subsectors">
<code class="descname">subsectors</code><a class="headerlink" href="#lgimapy.data.Index.subsectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized unique sorted subsectors in index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.subset">
<code class="descname">subset</code><span class="sig-paren">(</span><em>name=None</em>, <em>date=None</em>, <em>start=None</em>, <em>end=None</em>, <em>rating=None</em>, <em>currency=None</em>, <em>cusip=None</em>, <em>issuer=None</em>, <em>ticker=None</em>, <em>sector=None</em>, <em>subsector=None</em>, <em>treasuries=False</em>, <em>municipals=True</em>, <em>maturity=(None</em>, <em>None)</em>, <em>price=(None</em>, <em>None)</em>, <em>coupon_rate=(None</em>, <em>None)</em>, <em>country_of_domicile=None</em>, <em>country_of_risk=None</em>, <em>amount_outstanding=(None</em>, <em>None)</em>, <em>issue_years=(None</em>, <em>None)</em>, <em>collateral_type=None</em>, <em>OAD=(None</em>, <em>None)</em>, <em>OAS=(None</em>, <em>None)</em>, <em>OASD=(None</em>, <em>None)</em>, <em>liquidity_score=(None</em>, <em>None)</em>, <em>in_stats_index=None</em>, <em>in_returns_index=None</em>, <em>in_agg_stats_index=None</em>, <em>in_agg_returns_index=None</em>, <em>in_hy_stats_index=None</em>, <em>in_hy_returns_index=None</em>, <em>in_any_index=None</em>, <em>is_144A=None</em>, <em>is_new_issue=None</em>, <em>financial_flag=None</em>, <em>special_rules=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Subset <a class="reference internal" href="#lgimapy.data.Index" title="lgimapy.data.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> with customized rules from
<a class="reference internal" href="#lgimapy.data.Index.df" title="lgimapy.data.Index.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Index.df</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>str</em><em>, </em><em>default=''</em>) – Optional name for returned index.</li>
<li><strong>date</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – Single date to subset new index.</li>
<li><strong>start</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – Start date for index.</li>
<li><strong>end</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – End date for index.</li>
<li><strong>rating</strong> (<em>str</em><em> , </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – <p>Bond rating/rating range for index.</p>
<p>Examples:</p>
<ul>
<li>str: <code class="docutils literal notranslate"><span class="pre">'HY'</span></code>, <code class="docutils literal notranslate"><span class="pre">'IG'</span></code>, <code class="docutils literal notranslate"><span class="pre">'AAA'</span></code>, <code class="docutils literal notranslate"><span class="pre">'Aa1'</span></code>, etc.</li>
<li>Tuple[str, str]: <code class="docutils literal notranslate"><span class="pre">('AAA',</span> <span class="pre">'BB')</span></code> uses all bonds in
specified inclusive range.</li>
</ul>
</li>
<li><strong>currency</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Currency or list of currencies to include.</li>
<li><strong>cusip</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>: default=None</em><em>,</em>) – Cusip or list of cusips to include.</li>
<li><strong>issuer</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Issuer, or list of issuers to include.</li>
<li><strong>ticker</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Ticker or list of tickers to include in index, default is all.</li>
<li><strong>sector</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Sector or list of sectors to include in index.</li>
<li><strong>subsector</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Subsector or list of subsectors to include in index.</li>
<li><strong>treasuries</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If true return only treasures in index, else exclude.</li>
<li><strong>municipals</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If False, remove municipal bonds from index.</li>
<li><strong>maturity</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>{5</em><em>, </em><em>10</em><em>, </em><em>20</em><em>, </em><em>30}</em><em>, </em><em>default=None</em>) – <p>Maturities to include, if int is specified the following ranges
are used:</p>
<ul>
<li>5: 4-6</li>
<li>10: 6-11</li>
<li>20: 11-25</li>
<li>30: 25 - 31</li>
</ul>
</li>
<li><strong>price</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>)</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Price range of bonds to include, default is all.</li>
<li><strong>coupon_rate</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>)</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Coupon rate range of bonds to include, default is all.</li>
<li><strong>country_of_domicile</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Country or list of countries of domicile to
include, default is all.</li>
<li><strong>country_of_risk</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Country or list of countries wherer risk is centered to
include in index, default is all.</li>
<li><strong>amount_outstanding</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of amount outstanding to include in index (Millions).</li>
<li><strong>issue_years</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of years since issue to include in index, default is all.</li>
<li><strong>collateral_type</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Collateral type or list of types to include, default is all.</li>
<li><strong>OAD</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of option adjusted durations to include, default is all.</li>
<li><strong>OAS</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of option adjusted spreads to include, default is all.</li>
<li><strong>OASD</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of option adjusted spread durations, default is all.</li>
<li><strong>liquidity_score</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of liquidty scores to use, default is all.</li>
<li><strong>in_stats_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in stats index.
If False, only include bonds out of stats index.
By defualt include both.</li>
<li><strong>in_returns_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in returns index.
If False, only include bonds out of returns index.
By defualt include both.</li>
<li><strong>in_agg_stats_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in aggregate stats index.
If False, only include bonds out of aggregate stats index.
By defualt include both.</li>
<li><strong>in_agg_returns_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in aggregate returns index.
If False, only include bonds out of aggregate returns index.
By defualt include both.</li>
<li><strong>in_hy_stats_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in HY stats index.
If False, only include bonds out of HY stats index.
By defualt include both.</li>
<li><strong>in_hy_returns_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in HY returns index.
If False, only include bonds out of HY returns index.
By defualt include both.</li>
<li><strong>in_any_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in any index.
If False, only include bonds not in any index.
By defualt include both.</li>
<li><strong>is_144A</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include 144A bonds.
If False, only include non 144A bonds.
By defualt include both.</li>
<li><strong>is_new_issue</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in the month they were issued.
If False, include all bonds.
By default include all bonds.</li>
<li><strong>financial_flag</strong> (<em>{'financial'</em><em>, </em><em>'non-financial'</em><em>, </em><em>'other'}</em><em>, </em><em>default=None</em>) – Financial flag setting to identify fin and non-fin credits.</li>
<li><strong>special_rules</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>] </em><em>default=None</em>) – <p>Special rule(s) for subsetting index using bitwise operators.
If None, all specified inputs are applied independtently
of eachother as bitwise &amp;. All rules can be stacked using
paranthesis to create more complex rules.</p>
<p>Examples:</p>
<ul>
<li>Include specified sectors or subsectors:
<code class="docutils literal notranslate"><span class="pre">special_rules='Sector</span> <span class="pre">|</span> <span class="pre">Subsector'</span></code></li>
<li>Include all but specified sectors:
<code class="docutils literal notranslate"><span class="pre">special_rules='~Sector'</span></code></li>
<li>Include either (all but specified currency or specified
sectors) xor specified maturities:
<code class="docutils literal notranslate"><span class="pre">special_rules='(~Currnecy</span> <span class="pre">|</span> <span class="pre">Sector)</span> <span class="pre">^</span> <span class="pre">MaturityYears'</span></code></li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference internal" href="#lgimapy.data.Index" title="lgimapy.data.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> with specified rules.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#lgimapy.data.Index" title="lgimapy.data.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.synthetic_day">
<code class="descname">synthetic_day</code><span class="sig-paren">(</span><em>date</em>, <em>as_index=False</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.synthetic_day" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates <a class="reference internal" href="#lgimapy.data.Index" title="lgimapy.data.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> or DataFrames containing only the intersection
of constituents which existed in the index both the day before
and the specified day.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date</strong> (<em>datetime object</em>) – Date of daily DataFrame to return.</li>
<li><strong>as_index</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If true, return an Index for specified day instead
of a DataFrame.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>df or Index</strong> – DataFrame or Index for specified date.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame or <a class="reference internal" href="#lgimapy.data.Index" title="lgimapy.data.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Index.tickers">
<code class="descname">tickers</code><a class="headerlink" href="#lgimapy.data.Index.tickers" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized unique sorted tickers in index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Index.total_value">
<code class="descname">total_value</code><span class="sig-paren">(</span><em>synthetic=False</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Index.total_value" title="Permalink to this definition">¶</a></dt>
<dd><p>float: Total value of index in $M.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lgimapy.data.Database">
<em class="property">class </em><code class="descclassname">lgimapy.data.</code><code class="descname">Database</code><span class="sig-paren">(</span><em>server='LIVE'</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Database" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to pull and clean index data from SQL database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>server</strong> (<em>{'LIVE'</em><em>, </em><em>'DEV'}</em><em>, </em><em>default='LIVE'</em>) – Choice between live and development servers.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="lgimapy.data.Database.df">
<code class="descname">df</code><a class="headerlink" href="#lgimapy.data.Database.df" title="Permalink to this definition">¶</a></dt>
<dd><p>Full DataFrame of all cusips over loaded period.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">pd.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Database.trade_dates">
<code class="descname">trade_dates</code><a class="headerlink" href="#lgimapy.data.Database.trade_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>List of dates with bond data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[datetime]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Database.loaded_dates">
<code class="descname">loaded_dates</code><a class="headerlink" href="#lgimapy.data.Database.loaded_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>List of dates currently loaded by builder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[datetime]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Database.all_dates">
<code class="descname">all_dates</code><a class="headerlink" href="#lgimapy.data.Database.all_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized list of all dates in DataBase.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[datetime]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Database.build_market_index">
<code class="descname">build_market_index</code><span class="sig-paren">(</span><em>name=''</em>, <em>date=None</em>, <em>start=None</em>, <em>end=None</em>, <em>rating=None</em>, <em>currency=None</em>, <em>cusip=None</em>, <em>issuer=None</em>, <em>ticker=None</em>, <em>sector=None</em>, <em>subsector=None</em>, <em>treasuries=False</em>, <em>municipals=True</em>, <em>maturity=(None</em>, <em>None)</em>, <em>price=(None</em>, <em>None)</em>, <em>coupon_rate=(None</em>, <em>None)</em>, <em>country_of_domicile=None</em>, <em>country_of_risk=None</em>, <em>amount_outstanding=(None</em>, <em>None)</em>, <em>issue_years=(None</em>, <em>None)</em>, <em>collateral_type=None</em>, <em>OAD=(None</em>, <em>None)</em>, <em>OAS=(None</em>, <em>None)</em>, <em>OASD=(None</em>, <em>None)</em>, <em>liquidity_score=(None</em>, <em>None)</em>, <em>in_stats_index=None</em>, <em>in_returns_index=None</em>, <em>in_agg_stats_index=None</em>, <em>in_agg_returns_index=None</em>, <em>in_hy_stats_index=None</em>, <em>in_hy_returns_index=None</em>, <em>in_any_index=None</em>, <em>is_144A=None</em>, <em>is_new_issue=None</em>, <em>financial_flag=None</em>, <em>special_rules=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Database.build_market_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Build index with customized rules from <a class="reference internal" href="#lgimapy.data.Database.df" title="lgimapy.data.Database.df"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Database.df</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>str</em><em>, </em><em>default=''</em>) – Optional name for returned index.</li>
<li><strong>date</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – Single date to build index.</li>
<li><strong>start</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – Start date for index, if None the start date from load is used.</li>
<li><strong>end</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – End date for index, if None the end date from load is used.</li>
<li><strong>rating</strong> (<em>str</em><em> , </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – <p>Bond rating/rating range for index.</p>
<p>Examples:</p>
<ul>
<li>str: <code class="docutils literal notranslate"><span class="pre">'HY'</span></code>, <code class="docutils literal notranslate"><span class="pre">'IG'</span></code>, <code class="docutils literal notranslate"><span class="pre">'AAA'</span></code>, <code class="docutils literal notranslate"><span class="pre">'Aa1'</span></code>, etc.</li>
<li>Tuple[str, str]: <code class="docutils literal notranslate"><span class="pre">('AAA',</span> <span class="pre">'BB')</span></code> uses all bonds in
specified inclusive range.</li>
</ul>
</li>
<li><strong>currency</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Currency or list of currencies to include.</li>
<li><strong>cusip</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>: default=None</em><em>,</em>) – Cusip or list of cusips to include.</li>
<li><strong>issuer</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Issuer, or list of issuers to include.</li>
<li><strong>ticker</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Ticker or list of tickers to include in index, default is all.</li>
<li><strong>sector</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Sector or list of sectors to include in index.</li>
<li><strong>subsector</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Subsector or list of subsectors to include in index.</li>
<li><strong>treasuries</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If true return only treasures in index, else exclude.</li>
<li><strong>municipals</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If False, remove municipal bonds from index.</li>
<li><strong>maturity</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>{5</em><em>, </em><em>10</em><em>, </em><em>20</em><em>, </em><em>30}</em><em>, </em><em>default=None</em>) – <p>Maturities to include, if int is specified the following ranges
are used:</p>
<ul>
<li>5: 4-6</li>
<li>10: 6-11</li>
<li>20: 11-25</li>
<li>30: 25 - 31</li>
</ul>
</li>
<li><strong>price</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>)</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Price range of bonds to include, default is all.</li>
<li><strong>coupon_rate</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>)</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Coupon rate range of bonds to include, default is all.</li>
<li><strong>country_of_domicile</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Country or list of countries of domicile to include, default is all.</li>
<li><strong>country_of_risk</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Country or list of countries wherer risk is centered to include
in index, default is all.</li>
<li><strong>amount_outstanding</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of amount outstanding to include in index (Millions).</li>
<li><strong>issue_years</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of years since issue to include in index, default is all.</li>
<li><strong>collateral_type</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Collateral type or list of types to include, default is all.</li>
<li><strong>OAD</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of option adjusted durations to include, default is all.</li>
<li><strong>OAS</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of option adjusted spreads to include, default is all.</li>
<li><strong>OASD</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of option adjusted spread durations, default is all.</li>
<li><strong>liquidity_score</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Range of liquidty scores to use, default is all.</li>
<li><strong>in_stats_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in stats index.
If False, only include bonds out of stats index.
By defualt include both.</li>
<li><strong>in_returns_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in returns index.
If False, only include bonds out of returns index.
By defualt include both.</li>
<li><strong>in_agg_stats_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in aggregate stats index.
If False, only include bonds out of aggregate stats index.
By defualt include both.</li>
<li><strong>in_agg_returns_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in aggregate returns index.
If False, only include bonds out of aggregate returns index.
By defualt include both.</li>
<li><strong>in_hy_stats_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in HY stats index.
If False, only include bonds out of HY stats index.
By defualt include both.</li>
<li><strong>in_hy_returns_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in HY returns index.
If False, only include bonds out of HY returns index.
By defualt include both.</li>
<li><strong>in_any_index</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in any index.
If False, only include bonds not in any index.
By defualt include both.</li>
<li><strong>is_144A</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include 144A bonds.
If False, only include non 144A bonds.
By defualt include both.</li>
<li><strong>is_new_issue</strong> (<em>bool</em><em>, </em><em>default=None</em>) – If True, only include bonds in the month they were issued.
If False, include all bonds.
By default include all bonds.</li>
<li><strong>financial_flag</strong> (<em>{'financial'</em><em>, </em><em>'non-financial'</em><em>, </em><em>'other'}</em><em>, </em><em>default=None</em>) – Financial flag setting to identify fin and non-fin credits.</li>
<li><strong>special_rules</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>] </em><em>default=None</em>) – <p>Special rule(s) for subsetting index using bitwise operators.
If None, all specified inputs are applied independtently of
eachother as bitwise &amp;. All rules can be stacked using paranthesis
to create more complex rules.</p>
<p>Examples:</p>
<ul>
<li>Include specified sectors or subsectors:
<code class="docutils literal notranslate"><span class="pre">special_rules='Sector</span> <span class="pre">|</span> <span class="pre">Subsector'</span></code></li>
<li>Include all but specified sectors:
<code class="docutils literal notranslate"><span class="pre">special_rules='~Sector'</span></code></li>
<li>Include either (all but specified currency or specified
sectors) xor specified maturities:
<code class="docutils literal notranslate"><span class="pre">special_rules='(~Currnecy</span> <span class="pre">|</span> <span class="pre">Sector)</span> <span class="pre">^</span> <span class="pre">MaturityYears'</span></code></li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference internal" href="#lgimapy.data.Index" title="lgimapy.data.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> with specified rules.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#lgimapy.data.Index" title="lgimapy.data.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Database.display_all_columns">
<code class="descname">display_all_columns</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Database.display_all_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Set DataFrames to display all columnns in IPython.</p>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.data.Database.holiday_dates">
<code class="descname">holiday_dates</code><a class="headerlink" href="#lgimapy.data.Database.holiday_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized list of holiday dates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[datetime]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Database.load_bbg_data">
<code class="descname">load_bbg_data</code><span class="sig-paren">(</span><em>securities</em>, <em>field</em>, <em>start=None</em>, <em>end=None</em>, <em>nan=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Database.load_bbg_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load Bloomberg BDH data for given securities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>securities</strong> (<em>str</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Security or secuirites to load data for.</li>
<li><strong>field</strong> (str, <code class="docutils literal notranslate"><span class="pre">{'OAS',</span> <span class="pre">'Price',</span> <span class="pre">'TRET',</span> <span class="pre">'XSRET',</span> <span class="pre">'YTW',</span> <span class="pre">etc.}</span></code>) – Field of data to load.</li>
<li><strong>start</strong> (<em>datetime</em><em>, </em><em>default=None.</em>) – Inclusive start date for data.</li>
<li><strong>end</strong> (<em>datetime</em><em>, </em><em>default=None.</em>) – Inclusive end date for data.</li>
<li><strong>nan</strong> (<code class="docutils literal notranslate"><span class="pre">{None,</span> <span class="pre">'drop',</span> <span class="pre">'ffill',</span> <span class="pre">'interp'}</span></code>, default=None) – Method to use for filling missing values in loaded data.</li>
<li><strong>kwargs</strong> – <p>Keyword arguments to pass to interpolating function.</p>
<ul>
<li><dl class="first docutils">
<dt>method: <code class="docutils literal notranslate"><span class="pre">{'linear',</span> <span class="pre">'spline',</span> <span class="pre">etc.}</span></code>, default=’linear’</dt>
<dd><code class="docutils literal notranslate"><span class="pre">'spline'</span></code> and <code class="docutils literal notranslate"><span class="pre">'polynomial'</span></code> require an order.</dd>
</dl>
</li>
<li>order: int, order for polynomial or spline.</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>df</strong> – Bloomberg data subset to proper date range and
processed missing data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Database.load_market_data">
<code class="descname">load_market_data</code><span class="sig-paren">(</span><em>date=None</em>, <em>start=None</em>, <em>end=None</em>, <em>cusips=None</em>, <em>clean=True</em>, <em>ret_df=False</em>, <em>local=False</em>, <em>data=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Database.load_market_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load market data from SQL server. If end is not specified
data is scraped through previous day. If neither start nor
end are given only the data from previous day is scraped.
Optionally load from local compressed format for increased
performance or feed a DataFrame directly.</p>
<p class="rubric">Notes</p>
<p>If unknown value is encountered in ratings, user will
be prompted to provide the numeric value, and the
<cite>ratings.json</cite> file will be updated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date</strong> (<em>datetime</em><em>, </em><em>default=None</em>) – Single date to scrape.</li>
<li><strong>start</strong> (<em>str</em><em>, </em><em>datetime</em><em>, </em><em>default=None</em>) – Starting date for scrape.</li>
<li><strong>end</strong> (<em>str</em><em>, </em><em>datetime</em><em>, </em><em>default=None</em>) – Ending date for scrape.</li>
<li><strong>cusips</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – List of cusips to specify for the load, by default load all.</li>
<li><strong>clean</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If true, apply standard cleaning rules to loaded DataFrame.</li>
<li><strong>ret_df</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, return loaded DataFrame.</li>
<li><strong>local</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Load index from local feather file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>df</strong> – DataFrame for specified date’s index data if <cite>ret_df</cite> is true.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Database.load_portfolio">
<code class="descname">load_portfolio</code><span class="sig-paren">(</span><em>date=None</em>, <em>start=None</em>, <em>end=None</em>, <em>accounts=None</em>, <em>strategy=None</em>, <em>manager=None</em>, <em>universe='returns'</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Database.load_portfolio" title="Permalink to this definition">¶</a></dt>
<dd><p>Load market data from SQL server. If end is not specified
data is scraped through previous day. If neither start nor
end are given only the data from previous day is scraped.
Optionally load from local compressed format for increased
performance or feed a DataFrame directly.</p>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Database.load_trade_dates">
<code class="descname">load_trade_dates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Database.load_trade_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>List[datetime]: Dates with credit data.</p>
</dd></dl>

<dl class="method">
<dt id="lgimapy.data.Database.nearest_date">
<code class="descname">nearest_date</code><span class="sig-paren">(</span><em>date</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.Database.nearest_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Return trade date nearest to input date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<em>datetime object</em>) – Input date.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Trade date nearest to input date.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">trade_dates</code></dt>
<dd><p>Memoized list of trade dates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">List[datetime]</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="lgimapy.data.update_bloomberg_data">
<code class="descclassname">lgimapy.data.</code><code class="descname">update_bloomberg_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.update_bloomberg_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Update all Bloomberg timeseries data.</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.data.update_fed_funds">
<code class="descclassname">lgimapy.data.</code><code class="descname">update_fed_funds</code><span class="sig-paren">(</span><em>dates=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.update_fed_funds" title="Permalink to this definition">¶</a></dt>
<dd><p>Update fed funds data to current date in database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dates</strong> (<em>List</em><em>[</em><em>datetime</em><em>]</em><em></em>) – List of all trade dates available in DataMart.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.data.update_feathers">
<code class="descclassname">lgimapy.data.</code><code class="descname">update_feathers</code><span class="sig-paren">(</span><em>dates=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.update_feathers" title="Permalink to this definition">¶</a></dt>
<dd><p>Update feather files. Finds and creates any missing
historical feathers and updates the feather for
current day. Creates verbose progress bar if more
than 2 files are to be created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dates</strong> (<em>List</em><em>[</em><em>datetime</em><em>]</em><em></em>) – List of all trade dates available in DataMart.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.data.update_trade_dates">
<code class="descclassname">lgimapy.data.</code><code class="descname">update_trade_dates</code><span class="sig-paren">(</span><em>dates=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.update_trade_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <cite>trade_dates.csv</cite> file with all trade dates
and holidays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dates</strong> (<em>List</em><em>[</em><em>datetime</em><em>]</em><em></em>) – List of all trade dates available in DataMart.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.data.update_dealer_inventory">
<code class="descclassname">lgimapy.data.</code><code class="descname">update_dealer_inventory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.data.update_dealer_inventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Update dealer inventory for IG and HY bonds.</p>
</dd></dl>

</div>
<div class="section" id="module-lgimapy.models">
<span id="lgimapy-models"></span><h2>lgimapy models<a class="headerlink" href="#module-lgimapy.models" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lgimapy.models.TreasuryCurveBuilder">
<em class="property">class </em><code class="descclassname">lgimapy.models.</code><code class="descname">TreasuryCurveBuilder</code><span class="sig-paren">(</span><em>ix=None</em>, <em>date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.models.TreasuryCurveBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for fitting treasury curve and visualizing curve.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ix</strong> (:class`:<cite>Index</cite>) – <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> containing treasuries and strips
for a single date.</li>
<li><strong>date</strong> (<em>datetime</em>) – Date to build treasury curve.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lgimapy.models.TreasuryCurveBuilder.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>model='NSS'</em>, <em>method='price'</em>, <em>n=50</em>, <em>n_drop=25</em>, <em>threshold=12</em>, <em>fit_strips=True</em>, <em>fit_bills=True</em>, <em>solver='SLSQP'</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.models.TreasuryCurveBuilder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve zero coupon bond curve given all bonds by minimizing
the total squared error between the theoretical yield curve
and market observed yield to maturities. Parametrize
several maturity ranges, and then smooth combine curves
into smooth curve.</p>
<p>Methodolgy and notation taken from
- <a class="reference external" href="https://www.jstatsoft.org/article/view/v036i01/v36i01.pdf">https://www.jstatsoft.org/article/view/v036i01/v36i01.pdf</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>model</strong> (<em>{'NSS'</em><em>, </em><em>'NS'}</em><em>, </em><em>default='NSS'</em>) – </li>
<li><strong>method</strong> (<em>{'price'</em><em>, </em><em>'yield'}</em><em>, </em><em>default='price'</em>) – Minimize error in inversion duration weighted price or yield.</li>
<li><strong>n</strong> (<em>int</em><em>, </em><em>default=50</em>) – Number of minimizations to run for final yield curve.</li>
<li><strong>n_drop</strong> (<em>int</em><em>, </em><em>default=20</em>) – Number of minimizations to run before dropping bonds
with large errors.</li>
<li><strong>theshold</strong> (<em>float</em><em>, </em><em>default=10</em>) – Threshold (bp) that ytm errors must be within to not drop bonds
from fitting routine.</li>
<li><strong>solver</strong> (<em>str</em><em>, </em><em>default='SLSQP'</em>) – Scipy solver to use when minimizing errors.</li>
<li><strong>verbose</strong> (<em>int</em><em>, </em><em>default=0</em>) – <p>Verbosity level for optimization.</p>
<blockquote>
<div><ul>
<li>0: No results.</li>
<li>1: Updated each time bonds are dropped.</li>
<li>2: Update each completed optimization simulation.</li>
<li>3: Update each optimization iteration.</li>
</ul>
</div></blockquote>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.models.TreasuryCurveBuilder.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>trange=(0.1</em>, <em>30)</em>, <em>indv_bonds=True</em>, <em>strips=True</em>, <em>ax=None</em>, <em>figsize=(8</em>, <em>6)</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.models.TreasuryCurveBuilder.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot yield curve.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>trange</strong> (<em>Tuple</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>default=</em><em>(</em><em>0.1</em><em>, </em><em>30</em><em>)</em><em></em>) – Range (min, max) in years to show.</li>
<li><strong>indv_bonds</strong> (<em>bool</em><em>, </em><em>default=True</em><em>,</em>) – If true plot the market value YTM and estimated YTM of
all bonds used to fit curve.</li>
<li><strong>strips</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If true plot strips YTM.</li>
<li><strong>ax</strong> (<em>matplotlib axis</em><em>, </em><em>default=None</em>) – Matplotlib axis to plot figure, if None one is created.</li>
<li><strong>figsize</strong> (<em>list</em><em> or </em><em>tuple</em><em>, </em><em>default=</em><em>(</em><em>6</em><em>, </em><em>6</em><em>)</em><em></em>) – Figure size.</li>
<li><strong>kwargs</strong> (<em>dict</em>) – Kwargs for plotting curve in matplotlib.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.models.TreasuryCurveBuilder.plot_discount_curve">
<code class="descname">plot_discount_curve</code><span class="sig-paren">(</span><em>trange=(0.1</em>, <em>30)</em>, <em>ax=None</em>, <em>figsize=(8</em>, <em>6)</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.models.TreasuryCurveBuilder.plot_discount_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot discount curve.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>trange</strong> (<em>Tuple</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>default=</em><em>(</em><em>0.1</em><em>, </em><em>30</em><em>)</em><em></em>) – Range (min, max) in years to show.</li>
<li><strong>indv_bonds</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If true, show individual bond yields as data points.</li>
<li><strong>ax</strong> (<em>matplotlib axis</em><em>, </em><em>default=None</em>) – Matplotlib axis to plot figure, if None one is created.</li>
<li><strong>figsize</strong> (<em>list</em><em> or </em><em>tuple</em><em>, </em><em>default=</em><em>(</em><em>6</em><em>, </em><em>6</em><em>)</em><em></em>) – Figure size.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.models.TreasuryCurveBuilder.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.models.TreasuryCurveBuilder.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save treasury curve values to <cite>data/treasury_curves.csv</cite>
and save key rate durations, coupons, and total returns to
<cite>data/treasury_curve_krd_params.csv</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="lgimapy.models.update_treasury_curve_dates">
<code class="descclassname">lgimapy.models.</code><code class="descname">update_treasury_curve_dates</code><span class="sig-paren">(</span><em>dates=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.models.update_treasury_curve_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <cite>.data/treasury_curve_params.csv</cite> file
with most recent data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dates</strong> (<em>List</em><em>[</em><em>datetime</em><em>]</em><em></em>) – List of all trade dates available in DataMart.</li>
<li><strong>verbose</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True print progress on each fitting to screen.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-lgimapy.bloomberg">
<span id="lgimapy-bloomberg"></span><h2>lgimapy bloomberg<a class="headerlink" href="#module-lgimapy.bloomberg" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="lgimapy.bloomberg.bdh">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">bdh</code><span class="sig-paren">(</span><em>securities</em>, <em>yellow_key</em>, <em>fields</em>, <em>start</em>, <em>end=None</em>, <em>ovrd=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.bdh" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve Bloomberg Data History (BDH) query results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>securities</strong> (<em>str</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Security name(s) or cusip(s).</li>
<li><strong>yellow_key</strong> (<code class="docutils literal notranslate"><span class="pre">{'Govt',</span> <span class="pre">'Corp',</span> <span class="pre">'Equity',</span> <span class="pre">'Index',</span> <span class="pre">etc.}</span></code> or List[str].) – Bloomberg yellow key(s) for securities. Case insensitive.</li>
<li><strong>fields</strong> (<em>str</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Bloomberg field(s) to collect history.</li>
<li><strong>start</strong> (<em>datetime object</em>) – Start date for scrape.</li>
<li><strong>end</strong> (<em>datetime object</em><em>, </em><em>default=None</em>) – End date for scrape, if None most recent date is used.</li>
<li><strong>ovrd</strong> (<em>dict</em><em>, </em><em>default=None</em>) – Bloomberg overrides {field: value}.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p><strong>df</strong> – DataFrame with datetime index.</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>If single security and field is provided, column</dt>
<dd>is field name.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>If multiple securities are provided, columns are</dt>
<dd>security names.</dd>
</dl>
</li>
<li>If mulitple fields are provided, columns are field names.</li>
<li><dl class="first docutils">
<dt>If both multiple fields and securities are provided,</dt>
<dd>a multi-index header column is used.</dd>
</dl>
</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.bdp">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">bdp</code><span class="sig-paren">(</span><em>securities</em>, <em>yellow_key</em>, <em>fields</em>, <em>ovrd=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.bdp" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve Bloomberg Data Point (BDP) query results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>securities</strong> (<em>str</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Security name(s) or cusip(s).</li>
<li><strong>yellow_key</strong> (<code class="docutils literal notranslate"><span class="pre">{'Govt',</span> <span class="pre">'Corp',</span> <span class="pre">'Equity',</span> <span class="pre">'Index',</span> <span class="pre">etc.}</span></code> or List[str].) – Bloomberg yellow key(s) for securities. Case insensitive.</li>
<li><strong>fields</strong> (<em>str</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Bloomberg field(s) to collect history.</li>
<li><strong>ovrd</strong> (<em>dict</em><em>, </em><em>default=None</em>) – Bloomberg overrides {field: value}.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>df</strong> – DataFrame with security index and field columns.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.bds">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">bds</code><span class="sig-paren">(</span><em>security</em>, <em>yellow_key</em>, <em>field</em>, <em>ovrd=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.bds" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve Bloomberg Data Set (BDS) query results.
Convert date columns to datetime
:param security: Security name or cusip.
:type security: str
:param yellow_key: Bloomberg yellow key for securities. Case insensitive.
:type yellow_key: <code class="docutils literal notranslate"><span class="pre">{'Govt',</span> <span class="pre">'Corp',</span> <span class="pre">'Equity',</span> <span class="pre">'Index',</span> <span class="pre">etc.}</span></code>.
:param field: Bloomberg field to collect history.
:type field: str
:param ovrd: Bloomberg overrides {field: value}.
:type ovrd: dict, default=None</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>df</strong> – DataFrame with numeric index and columns determined
by choice of Bloomberg field.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">pd.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.get_bloomberg_ticker">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">get_bloomberg_ticker</code><span class="sig-paren">(</span><em>cusips</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.get_bloomberg_ticker" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bloomberg ticker for list of cusips. First attempts
to use saved <cite>cusip_bloomberg_tickers.json</cite> file, updating the file
for any cusip which is unsuccesful.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cusips</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Cusip(s) to search bloomberg for tickers.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of bloomberg tickers matching input cusips.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.get_bloomberg_subsector">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">get_bloomberg_subsector</code><span class="sig-paren">(</span><em>cusips</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.get_bloomberg_subsector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bloomberg subsector for list of cusips. First attempts
to use saved <cite>cusip_bloomberg_subsectors.json</cite> file, updating the file
for any cusip which is unsuccesful.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cusips</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Cusip(s) to search bloomberg for subsectors.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of bloomberg subsectors matching input cusips.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.update_subsector_json">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">update_subsector_json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.update_subsector_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Update bloomberg subsector json file for all cusips.</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.scrape_bloomberg_subsectors">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">scrape_bloomberg_subsectors</code><span class="sig-paren">(</span><em>cusips</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.scrape_bloomberg_subsectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Scrapes specified cusips and updates
<cite>cusip_bloomberg_subsectors.json</cite> with scraped
cusips and their subsectors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cusips</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Cusip(s) to search bloomberg for subsectors.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.bloomberg_index_history">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">bloomberg_index_history</code><span class="sig-paren">(</span><em>index</em>, <em>start</em>, <em>end=None</em>, <em>field=None</em>, <em>bloomberg_field='PX_LAST'</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.bloomberg_index_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bloomberg index history for specified index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index</strong> (<em>str</em>) – Specified index.</li>
<li><strong>start</strong> (<em>datetime</em><em> or </em><em>str</em>) – Start date for history.</li>
<li><strong>end</strong> (<em>datetime</em><em> or </em><em>str</em>) – Inlcusive end date for history.</li>
<li><strong>field</strong> (<em>str</em><em>, </em><em>default=None</em>) – Field for fixed income indexes.</li>
<li><strong>bloomberg_field</strong> (<em>str</em><em>, </em><em>default=&quot;PX_LAST&quot;</em>) – Bloomberg field for index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">DataFrame of index history.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.get_cashflows">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">get_cashflows</code><span class="sig-paren">(</span><em>cusip</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.get_cashflows" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cash flows and respective dates for specified cusip.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cusip</strong> (<em>str</em>) – Cusip to get cash flows for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Cash flows with datetime index.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pd.Series</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.id_to_cusip">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">id_to_cusip</code><span class="sig-paren">(</span><em>ids</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.id_to_cusip" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bloomberg cusip for list of member IDs. First attempts
to use saved <cite>id_to_cusip.json</cite> file, updating the file
for any id which is unsuccesful.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ids</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Member ID(s) to scrape Bloomberg for cusips.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of Bloomberg cusips matching input member IDs.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.scrape_id_to_cusip">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">scrape_id_to_cusip</code><span class="sig-paren">(</span><em>ids</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.scrape_id_to_cusip" title="Permalink to this definition">¶</a></dt>
<dd><p>Scrapes specified cusips and updates
<cite>id_to_cusip.json</cite> with scraped ids
and their cusips.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ids</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Member ID(s) to search Bloomberg for cuisps.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.get_settlement_date">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">get_settlement_date</code><span class="sig-paren">(</span><em>date</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.get_settlement_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Treasury settlement date for specified date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<em>str</em>) – Cusip to get cash flows for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Cash flows with datetime index.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pd.Series</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.get_issue_price">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">get_issue_price</code><span class="sig-paren">(</span><em>cusips</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.get_issue_price" title="Permalink to this definition">¶</a></dt>
<dd><p>Get issue price for list of cusips. First attempts
to use saved <cite>cusip_issue_price.json</cite> file, updating the file
for any cusip which is unsuccesful.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cusips</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Cusip(s) to retrieve issue price for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of issue prices matching input cusips.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.bloomberg.get_accrual_date">
<code class="descclassname">lgimapy.bloomberg.</code><code class="descname">get_accrual_date</code><span class="sig-paren">(</span><em>cusips</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.bloomberg.get_accrual_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Get first accrual date for a list of cusips. First attempts
to use saved <cite>cusip_accrual_date.json</cite> file, updating the file
for any cusip which is unsuccesful.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cusips</strong> (<em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Cusip(s) to retrieve issue price for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of first accrual dates matching input cusips.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-lgimapy.vis">
<span id="lgimapy-vis"></span><h2>lgimapy vis<a class="headerlink" href="#module-lgimapy.vis" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="lgimapy.vis.colors">
<code class="descclassname">lgimapy.vis.</code><code class="descname">colors</code><span class="sig-paren">(</span><em>color</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.vis.colors" title="Permalink to this definition">¶</a></dt>
<dd><p>LGIMA umbrella colors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>color</strong> (<em>str</em>) – Umbrella color or first letter of color to return.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Specified color hex code.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.vis.style">
<code class="descclassname">lgimapy.vis.</code><code class="descname">style</code><span class="sig-paren">(</span><em>background='white'</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.vis.style" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply preferred style to interactive and saved plots.</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.vis.coolwarm">
<code class="descclassname">lgimapy.vis.</code><code class="descname">coolwarm</code><span class="sig-paren">(</span><em>x</em>, <em>center=0</em>, <em>symettric=False</em>, <em>quality=1000</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.vis.coolwarm" title="Permalink to this definition">¶</a></dt>
<dd><p>Create custom diverging color palette centered around
specified value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>array-like</em>) – Sorted values to be converted to colors.</li>
<li><strong>center</strong> (<em>float</em><em>, </em><em>default=0</em>) – Central value for divergin colorbar.</li>
<li><strong>symmetric</strong> (<em># TODO bool</em><em>, </em><em>default=False</em>) – If True, use symmetric gradient for each side of
the color range, such that full color range
would not be used for skewed data.
If False, use full color gradient to both min and
max of the value range, so that full color bar
is used regardless of skew in data.</li>
<li><strong>quality</strong> (<em>int</em><em>, </em><em>default=1000</em>) – Total number of uniuqe colors to include in colorbar.
Higher number gives better gradient between colors.</li>
<li><strong>Retuns</strong> – </li>
<li><strong>------</strong> – </li>
<li><strong>List</strong><strong>[</strong><strong>str</strong><strong>]</strong> – List of custom color pallete hex codes for each
respective input value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.vis.plot_timeseries">
<code class="descclassname">lgimapy.vis.</code><code class="descname">plot_timeseries</code><span class="sig-paren">(</span><em>s</em>, <em>start=None</em>, <em>end=None</em>, <em>stats_start='1/1/2010'</em>, <em>stats=False</em>, <em>bollinger=False</em>, <em>mean_line=False</em>, <em>pct_lines=False</em>, <em>ax=None</em>, <em>figsize=(8</em>, <em>6)</em>, <em>ytickfmt=None</em>, <em>xtickfmt=None</em>, <em>ylabel=None</em>, <em>xlabel=None</em>, <em>title=None</em>, <em>legend=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.vis.plot_timeseries" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot simple timeseries.</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.vis.savefig">
<code class="descclassname">lgimapy.vis.</code><code class="descname">savefig</code><span class="sig-paren">(</span><em>fid</em>, <em>path=None</em>, <em>dpi=300</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.vis.savefig" title="Permalink to this definition">¶</a></dt>
<dd><p>Save figure to specified location.</p>
</dd></dl>

</div>
<div class="section" id="module-lgimapy.latex">
<span id="lgimapy-latex"></span><h2>lgimapy latex<a class="headerlink" href="#module-lgimapy.latex" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="lgimapy.latex.find_max_locs">
<code class="descclassname">lgimapy.latex.</code><code class="descname">find_max_locs</code><span class="sig-paren">(</span><em>df</em>, <em>axis=0</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.find_max_locs" title="Permalink to this definition">¶</a></dt>
<dd><p>Find iloc location of maximum values in input DataFrame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame to find maximum locations.</li>
<li><strong>axis</strong> (<em>{0</em><em>, </em><em>1}</em><em>, </em><em>default=0</em>) – Axis to find max values over.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of maximum locations.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">List[Tuple[int]]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.latex.find_min_locs">
<code class="descclassname">lgimapy.latex.</code><code class="descname">find_min_locs</code><span class="sig-paren">(</span><em>df</em>, <em>axis=0</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.find_min_locs" title="Permalink to this definition">¶</a></dt>
<dd><p>Find iloc location of minimum values in input DataFrame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame to find minimum locations.</li>
<li><strong>axis</strong> (<em>{0</em><em>, </em><em>1}</em><em>, </em><em>default=0</em>) – Axis to find min values over.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of minimum locations.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">List[Tuple[int]]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.latex.greeks_to_latex">
<code class="descclassname">lgimapy.latex.</code><code class="descname">greeks_to_latex</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.greeks_to_latex" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Transform text containing greeks letters with/without
subscripts to proper LaTeX representation.</p>
<dl class="docutils">
<dt>text: str</dt>
<dd>Text containing greek letter(s) to be formatted to LaTeX.</dd>
</dl>
<dl class="docutils">
<dt>text: str</dt>
<dd>Text with all greek letter(s) formatted into LaTeX syntax.</dd>
</dl>
<p>greeks_to_latex(‘alpha=0.5, Beta=2,         gamma_=3,</p>
</div></blockquote>
<dl class="docutils">
<dt>Delta^4=16’)</dt>
<dd><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; $lpha$= 0.5, $\Beta$= 2,       gamma_=3,
&gt;&gt;&gt; $\Delta^{4}$=16
</pre></div>
</div>
<p class="last">greeks_to_latex(‘partial u / partial t - alpha_gold nabla^2 u = 0’)
&gt;&gt;&gt; $partial$ u / $partial$ t - $lpha_{gold}$ $</p>
</dd>
</dl>
<p>abla^{2}$ u = 0</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.latex.combine_error_table">
<code class="descclassname">lgimapy.latex.</code><code class="descname">combine_error_table</code><span class="sig-paren">(</span><em>vals</em>, <em>errs</em>, <em>prec=3</em>, <em>latex_format=True</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.combine_error_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines standard errors and values into one DataFrame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vals</strong> (<em>pd.DataFrame</em>) – Values for table.</li>
<li><strong>errs</strong> (<em>pd.DataFrame</em>) – Errors for respective values.</li>
<li><strong>prec</strong> (<em>int</em><em>, </em><em>defualt=3</em>) – Precision for</li>
<li><strong>latex_format</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Characters to use to separate values and errors
{True: ‘ pm ‘, False: ‘ ± ‘}.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>df</strong> – DataFrame of values +/- errors.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.latex.latex_array">
<code class="descclassname">lgimapy.latex.</code><code class="descname">latex_array</code><span class="sig-paren">(</span><em>obj</em>, <em>prec=3</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.latex_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a list for printing in LaTeX.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>obj</strong> (<em>list-like</em>) – Values for LaTeX array.</li>
<li><strong>prec</strong> (<em>int</em><em>, </em><em>default=3</em><em>,</em>) – Precision for numbers in array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fout</strong> – Formatted array in LaTeX syntax.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.latex.latex_matrix">
<code class="descclassname">lgimapy.latex.</code><code class="descname">latex_matrix</code><span class="sig-paren">(</span><em>obj</em>, <em>prec=3</em>, <em>matrix_type='b'</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.latex_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a numpy matrix for printing in LaTeX.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>obj</strong> (<em>np.matrix</em>) – Matrix values.</li>
<li><strong>prec</strong> (<em>int</em><em>, </em><em>default=3</em><em>,</em>) – Precision for numbers in matrix.</li>
<li><strong>matrix_type</strong> (<em>{'b'</em><em>, </em><em>'p'}</em><em>, </em><em>defualt='b'</em>) – Style for matrix in latex
{‘b’: bracket, ‘p’: paranthesis}.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fout</strong> – Formatted matrix in LaTeX syntax.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.latex.latex_table">
<code class="descclassname">lgimapy.latex.</code><code class="descname">latex_table</code><span class="sig-paren">(</span><em>df</em>, <em>caption=None</em>, <em>col_fmt=None</em>, <em>prec=3</em>, <em>adjust=False</em>, <em>hide_index=False</em>, <em>add_blank_column=False</em>, <em>int_vals=False</em>, <em>nan_value='-'</em>, <em>font_size=None</em>, <em>midrule_locs=None</em>, <em>specialrule_locs=None</em>, <em>greeks=True</em>, <em>multi_row_header=False</em>, <em>loc_style=None</em>, <em>row_color=None</em>, <em>row_font=None</em>, <em>col_style=None</em>, <em>alternating_colors=(None</em>, <em>None)</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.latex_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Return table with syntax formatted for LaTeX.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame object to convert for printing in LaTeX.</li>
<li><strong>caption</strong> (<em>str</em><em>, </em><em>default=None</em>) – Caption for table.</li>
<li><strong>col_fmt</strong> (<em>str</em><em>, </em><em>default=None</em>) – Column format for latex, (e.g., ‘lrc’).</li>
<li><strong>prec</strong> (<em>int</em><em> or </em><em>Dict</em><em>[</em><em>str: str</em><em>]</em><em>, </em><em>default=3</em>) – <p>Precision for printing decimals.
If Dict is given, input is expected to be column name
keys with respective string formatting as values.</p>
<ul>
<li><code class="docutils literal notranslate"><span class="pre">`prec={col1:</span> <span class="pre">':.1f',</span> <span class="pre">col2:</span> <span class="pre">':,.0f',</span> <span class="pre">col3:</span> <span class="pre">':.0%'}`</span></code></li>
</ul>
</li>
<li><strong>adjust</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, fit table to page width, especially usefull for
tables with many columns.</li>
<li><strong>hide_index</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, hide index from printing in LaTeX.</li>
<li><strong>add_blank_column</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, append a blank column to the right side of the table.</li>
<li><strong>int_vals</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, remove decimal places for number where
all trailing values are 0 (e.g., 3.00 –&gt; 3).</li>
<li><strong>nan_value</strong> (<em>str</em><em>, </em><em>default='-'</em>) – Value to fill NaNs with in LaTeX table.
For blank, use <code class="docutils literal notranslate"><span class="pre">`&quot;</span> <span class="pre">&quot;`</span></code>.</li>
<li><strong>font_size</strong> (<em>str</em><em>, </em><em>default=None</em>) – Font size for tables.
{‘tiny’, ‘scriptsize’, ‘footnotesize’, ‘small’, ‘normalsize’,
‘large’, ‘Large’, ‘LARGE’, ‘huge’, ‘Huge’}.</li>
<li><strong>midrule_locs</strong> (<em>str</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Index or list of index values to place a midrule line above.</li>
<li><strong>specialrule_locs</strong> (<em>str</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Index or list of index values to place a midrule line above.</li>
<li><strong>greeks</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, convert all instances of greek letters to LaTeX syntax.</li>
<li><strong>multi_row_header</strong> (<em>bool</em><em>, </em><em>default=False</em>) – if True, use \thead to make header column multiple lines.
Expects <code class="docutils literal notranslate"><span class="pre">`*`</span></code> as separator between lines in header column.</li>
<li><strong>loc_style</strong> (<em>Dict</em><em>[</em><em>Tuple</em><em>[</em><em>Tuple</em><em>[</em><em>int</em><em>]</em><em>]</em><em>: str</em><em>]</em><em>, </em><em>default=None</em>) – <p>Special styling for specific locations.
Input is expexted as dict with tuple of iloc tuples for
DataFrame elements to apply the style to as keys and respective
LaTeX formatting as values.</p>
<ul>
<li>Bold: <code class="docutils literal notranslate"><span class="pre">`loc_style={'\textbf':</span> <span class="pre">[(0,</span> <span class="pre">0),</span> <span class="pre">(1,</span> <span class="pre">3),</span> <span class="pre">(4,</span> <span class="pre">6)]}`</span></code></li>
<li>Red Font: <code class="docutils literal notranslate"><span class="pre">`loc_style={'\color{red}':</span> <span class="pre">[(0,</span> <span class="pre">1),</span> <span class="pre">(1,</span> <span class="pre">5)]}`</span></code></li>
</ul>
</li>
<li><strong>row_font</strong> (<em>Dict</em><em>[</em><em>str: str</em><em>]</em><em></em>) – Special styling for a specific row.
Input is expected as a dict with row names as keys and
respective LaTeX formatting as value.</li>
<li><strong>row_color</strong> (<em>Dict</em><em>[</em><em>str: str</em><em>]</em><em></em>) – Background colors for specific rows.
Input is expected as a dict with row names as keys and
respective colors as values.</li>
<li><strong>col_style</strong> (<em>Dict</em><em>[</em><em>str: str</em><em>]</em><em></em>) – <p>Special styling for specific columns.
Input is expexted as dict with column names as keys
and respective LaTeX formatting as values.</p>
<ul>
<li>Bar Plot: <code class="docutils literal notranslate"><span class="pre">`[col:</span> <span class="pre">\mybar]`</span></code></li>
<li>Bold: <code class="docutils literal notranslate"><span class="pre">`[col:</span> <span class="pre">\textbf]`</span></code></li>
</ul>
</li>
<li><strong>alternating_colors</strong> (<em>Tuple</em><em>(</em><em>str</em><em>)</em><em>, </em><em>default=</em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em><em></em>) – Color 1 and Color 2 for for alternating row colors.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fout</strong> – Table formatted with LaTeX syntax.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Requires the folloiwng LaTeX packages in preamble</p>
<blockquote>
<div><ul class="simple">
<li>adjustbox: Fit table to page width.</li>
<li>caption: Add caption.</li>
<li>makecell: Create multi-row headers.</li>
<li>tabu: Build table with fancy formatting options.</li>
<li>xcolor: Change font color of table values.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="lgimapy.latex.latex_figure">
<code class="descclassname">lgimapy.latex.</code><code class="descname">latex_figure</code><span class="sig-paren">(</span><em>fids</em>, <em>caption=None</em>, <em>subcaptions=None</em>, <em>width=0.9</em>, <em>tab=2</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.latex_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns figure(s) syntax formatted for LaTeX.</p>
<p class="rubric">Notes</p>
<p>Requires usepackage{graphicx, caption, subcaption} in LaTeX preamble.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fids</strong> (<em>str</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – Filenames for figure(s).</li>
<li><strong>caption</strong> (<em>str</em><em>, </em><em>default=None</em>) – Main caption for figure(s).</li>
<li><strong>subcaptions</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>defualt=None</em>) – Subcaptions for each subfigure.</li>
<li><strong>width</strong> (<em>float</em><em>, </em><em>default=0.9</em>) – Fraction of page width for figure to fill.</li>
<li><strong>tab</strong> (<em>int</em><em>, </em><em>default=2</em>) – Number of spaces to indent each tab.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="lgimapy.latex.Document">
<em class="property">class </em><code class="descclassname">lgimapy.latex.</code><code class="descname">Document</code><span class="sig-paren">(</span><em>fid</em>, <em>path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.Document" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for building a document in LaTeX.</p>
<dl class="docutils">
<dt>TODO: add other types such as</dt>
<dd><ul class="first last simple">
<li>array</li>
<li>matrix</li>
<li>figure</li>
</ul>
</dd>
<dt>TODO: add LaTeX functions such as</dt>
<dd><ul class="first last simple">
<li>appendix</li>
<li>header</li>
<li>equation</li>
<li>bibliography</li>
<li>bodies of text</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fid</strong> (<em>str</em>) – Filename.</li>
<li><strong>path</strong> (<em>Path</em><em> or </em><em>str</em><em>, </em><em>default=None</em>) – <p>Path to directory for file.</p>
<ul>
<li>None: create in current directory.</li>
<li>Path: create at specified directory, create dir if required.</li>
<li>str: create <cite>root/latex/{str}</cite> directory, create dir if required.</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lgimapy.latex.Document.add_background_image">
<code class="descname">add_background_image</code><span class="sig-paren">(</span><em>image</em>, <em>scale=1</em>, <em>width=None</em>, <em>height=None</em>, <em>angle=0</em>, <em>vshift=0</em>, <em>hshift=0</em>, <em>unit='cm'</em>, <em>alpha=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.Document.add_background_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a background image to the document.</p>
</dd></dl>

<dl class="method">
<dt id="lgimapy.latex.Document.add_bibliography">
<code class="descname">add_bibliography</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.Document.add_bibliography" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO</p>
</dd></dl>

<dl class="method">
<dt id="lgimapy.latex.Document.add_table">
<code class="descname">add_table</code><span class="sig-paren">(</span><em>table_or_df</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.Document.add_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Add table to document using <a class="reference internal" href="#lgimapy.latex.latex_table" title="lgimapy.latex.latex_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">latex_table()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>table_or_df</strong> (<em>str</em><em> or </em><em>pd.DataFrame</em>) – If str is provided, it is expected to be a
pre-formatted table for LaTeX. Otherwise,
a DataFrame is expected to be input into
<a class="reference internal" href="#lgimapy.latex.latex_table" title="lgimapy.latex.latex_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">latex_table()</span></code></a>.</li>
<li><strong>kwargs</strong> – Keyword arguments for <a class="reference internal" href="#lgimapy.latex.latex_table" title="lgimapy.latex.latex_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">latex_table()</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#lgimapy.latex.latex_table" title="lgimapy.latex.latex_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">latex_table()</span></code></a></dt>
<dd>Return table with syntax formatted for LaTeX.</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="lgimapy.latex.Document.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>save_tex=False</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.latex.Document.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save <cite>.tex</cite> file and compile to <cite>.pdf</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>save_tex</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, save <cite>.tex</cite> as well as <cite>.pdf</cite>.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lgimapy.daily_scripts">
<span id="lgimapy-daily-scripts"></span><h2>lgimapy daily_scripts<a class="headerlink" href="#module-lgimapy.daily_scripts" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="lgimapy.daily_scripts.build_movers_sheets">
<code class="descclassname">lgimapy.daily_scripts.</code><code class="descname">build_movers_sheets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.daily_scripts.build_movers_sheets" title="Permalink to this definition">¶</a></dt>
<dd><p>Make 8 data.csv files to show OAS evolution over past week, month,
and since tights, for 10 year and 30 year bonds. Data is saved to
<cite>X:/Jason/Projects/Index Analysis/</cite> repository.</p>
</dd></dl>

</div>
<div class="section" id="module-lgimapy.utils">
<span id="lgimapy-utils"></span><h2>lgimapy utils<a class="headerlink" href="#module-lgimapy.utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lgimapy.utils.EventDistance">
<em class="property">class </em><code class="descclassname">lgimapy.utils.</code><code class="descname">EventDistance</code><span class="sig-paren">(</span><em>s</em>, <em>event_dates</em>, <em>lookback</em>, <em>lookforward</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.EventDistance" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert timeseries of values to indexed array of bins
of days before or after the event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>s</strong> (<em>pd.Series</em><em> or </em><em>Iterable</em>) – Series of values with datetime index or Iterable of
Series with datetime indexes.</li>
<li><strong>event_dates</strong> (<em>datetime</em><em> or </em><em>List</em><em>[</em><em>datetime</em><em>]</em><em></em>) – Date(s) of event(s).</li>
<li><strong>lookback</strong> (<em>str</em>) – String representation of start relative to
event date. Input to <a href="#id5"><span class="problematic" id="id6">:function:`floatftime`</span></a>.</li>
<li><strong>lookforward</strong> (<em>str</em>) – String representation of end relative to
event date. Input to <a href="#id7"><span class="problematic" id="id8">:function:`floatftime`</span></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="lgimapy.utils.EventDistance.values">
<code class="descname">values</code><a class="headerlink" href="#lgimapy.utils.EventDistance.values" title="Permalink to this definition">¶</a></dt>
<dd><p>2D array with raw values for each event in every row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.utils.EventDistance.index">
<code class="descname">index</code><a class="headerlink" href="#lgimapy.utils.EventDistance.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of days or bins before/after event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lgimapy.utils.EventDistance.bin">
<code class="descname">bin</code><span class="sig-paren">(</span><em>binsize=7</em>, <em>pad='drop'</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.EventDistance.bin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bin <a class="reference internal" href="#lgimapy.utils.EventDistance.values" title="lgimapy.utils.EventDistance.values"><code class="xref py py-attr docutils literal notranslate"><span class="pre">values</span></code></a> into bins of a specifed number of days
on either side of the event date. Updates all attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>binsize</strong> (<em>int</em><em>, </em><em>default=7</em>) – Number of days to include in each bin.</li>
<li><strong>pad</strong> (<em>{'drop'</em><em>, </em><em>None}</em><em>, </em><em>default='drop'</em>) – How to pad bins which are not full. By default bins are
dropped.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.utils.EventDistance.max">
<code class="descname">max</code><a class="headerlink" href="#lgimapy.utils.EventDistance.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum values for each bin before/after event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.utils.EventDistance.mean">
<code class="descname">mean</code><a class="headerlink" href="#lgimapy.utils.EventDistance.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean values for each bin before/after event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.utils.EventDistance.min">
<code class="descname">min</code><a class="headerlink" href="#lgimapy.utils.EventDistance.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum values for each bin before/after event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lgimapy.utils.EventDistance.std">
<code class="descname">std</code><a class="headerlink" href="#lgimapy.utils.EventDistance.std" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard deviation of values for each bin before/after event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lgimapy.utils.Time">
<em class="property">class </em><code class="descclassname">lgimapy.utils.</code><code class="descname">Time</code><span class="sig-paren">(</span><em>unit='s'</em>, <em>name=''</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.Time" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple class for time profiling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>unit</strong> (<em>{'s'</em><em>, </em><em>'m'</em><em>, </em><em>'t'</em><em>, </em><em>h'}</em><em>, </em><em>default='s'</em>) – Unit to format time outputs. {second, minute, minute, hour}.</li>
<li><strong>name</strong> (<em>str</em><em>, </em><em>default=''</em>) – Name to include on all output statements.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt>
<code class="descname">split(name): Print time split between last call.</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">run_time(name): Print time since start.</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">checkpoint(name): Print split and time since start.</code></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.check_all_equal">
<code class="descclassname">lgimapy.utils.</code><code class="descname">check_all_equal</code><span class="sig-paren">(</span><em>lst</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.check_all_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Efficiently check if all items in list are equal.</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.custom_sort">
<code class="descclassname">lgimapy.utils.</code><code class="descname">custom_sort</code><span class="sig-paren">(</span><em>str_list</em>, <em>alphabet</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.custom_sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort a list of strings by a specified alphabetical order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>str_list</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em></em>) – List of strings to be sorted.</li>
<li><strong>alphabet</strong> (<em>str</em>) – Case sensitive alphabetical order for sort.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Sorted List[str] according to specified alphabet.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>custom_sort([‘black’, ‘blue’, ‘green’, ‘red’, ‘yellow’], ‘rygblu’)
&gt;&gt;&gt; [‘red’, ‘yellow’, ‘green’, ‘blue’, ‘black’]</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.dump_json">
<code class="descclassname">lgimapy.utils.</code><code class="descname">dump_json</code><span class="sig-paren">(</span><em>d</em>, <em>filename</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.dump_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Write json file to the <cite>./data/</cite> directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>d</strong> (<em>dict</em>) – Dictionary to store as json.</li>
<li><strong>filename</strong> (<em>str</em>) – Filename of json in <cite>./data/</cite> directory.</li>
<li><strong>**kwargs</strong> – Keyword arguments for <code class="docutils literal notranslate"><span class="pre">json.dump()</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.find_max_locs">
<code class="descclassname">lgimapy.utils.</code><code class="descname">find_max_locs</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.find_max_locs" title="Permalink to this definition">¶</a></dt>
<dd><p>Find iloc locations of maximum values in pd.DataFrame.</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.find_min_locs">
<code class="descclassname">lgimapy.utils.</code><code class="descname">find_min_locs</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.find_min_locs" title="Permalink to this definition">¶</a></dt>
<dd><p>Find iloc locations of minimum values in pd.DataFrame.</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.find_threshold_crossings">
<code class="descclassname">lgimapy.utils.</code><code class="descname">find_threshold_crossings</code><span class="sig-paren">(</span><em>a</em>, <em>threshold</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.find_threshold_crossings" title="Permalink to this definition">¶</a></dt>
<dd><p>Find ilocs where an array crosses a specified threshold.</p>
<dl class="docutils">
<dt>a: array-like</dt>
<dd>Array of values.</dd>
<dt>threshold: float</dt>
<dd>Value of threshold to find crossovers.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>locs</strong> – List of ilocs where threshold crossovers occur.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">[1 x N] ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.first_unique">
<code class="descclassname">lgimapy.utils.</code><code class="descname">first_unique</code><span class="sig-paren">(</span><em>vals</em>, <em>fill=''</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.first_unique" title="Permalink to this definition">¶</a></dt>
<dd><p>Find first unique values in a sorted list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vals</strong> (<em>list-like</em>) – Sorted input list.</li>
<li><strong>fill</strong> (<em>scalar</em><em>, </em><em>default=&quot;&quot;</em>) – Fill value to replace non-unique values in input list.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>unique_locs</strong> (<em>List[int].</em>) – List of unique value locations.</li>
<li><strong>unique_list</strong> (<em>List[scalar].</em>) – List of unique values with non-unique values replaced with fill.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.floatftime">
<code class="descclassname">lgimapy.utils.</code><code class="descname">floatftime</code><span class="sig-paren">(</span><em>time_horizon</em>, <em>unit='d'</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.floatftime" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>strftime</cite>, format time to numeric float.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>time_horizon</strong> (<em>str</em>) – String representation of time.</li>
<li><strong>unit</strong> (<em>{'s'</em><em>, </em><em>'t'</em><em>, </em><em>'h'</em><em>, </em><em>'d'</em><em>, </em><em>'w'</em><em>, </em><em>'m'</em><em>, </em><em>'y'}</em><em>, </em><em>default='d'</em>) – Unit of numeric result, not case sensative.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>num_time</strong> – Numeric time in specified units.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.load_json">
<code class="descclassname">lgimapy.utils.</code><code class="descname">load_json</code><span class="sig-paren">(</span><em>filename</em>, <em>empty_on_error=False</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.load_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Load json file from the <cite>./data/</cite> directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – Filename of json in <cite>./data/</cite> directory.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Loaded json file.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.mkdir">
<code class="descclassname">lgimapy.utils.</code><code class="descname">mkdir</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Make directory if it does not already exist.</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.nearest">
<code class="descclassname">lgimapy.utils.</code><code class="descname">nearest</code><span class="sig-paren">(</span><em>items</em>, <em>pivot</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.nearest" title="Permalink to this definition">¶</a></dt>
<dd><p>Return nearest nearest item in list to pivot.</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.pprint">
<code class="descclassname">lgimapy.utils.</code><code class="descname">pprint</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Print object to screen in nice formatting</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.replace_multiple">
<code class="descclassname">lgimapy.utils.</code><code class="descname">replace_multiple</code><span class="sig-paren">(</span><em>text</em>, <em>repl_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.replace_multiple" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace multiple text fragments in a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<em>str</em>) – Input str to perform replacements on.</li>
<li><strong>repl_dict</strong> (<em>dict</em><em>[</em><em>str: str</em><em>]</em><em></em>) – Dictionary with original str values as keys and replacment
str values as values.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>text</strong> – Output str with all replacments made.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.rolling_mean">
<code class="descclassname">lgimapy.utils.</code><code class="descname">rolling_mean</code><span class="sig-paren">(</span><em>a</em>, <em>n</em>, <em>pad=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.rolling_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Vectorized implementation of a rolling mean.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> (<em>array_like</em>) – Calculate rolling mean of these values.</li>
<li><strong>n</strong> (<em>int</em>) – Number of elements to include in rolling mean.</li>
<li><strong>pad</strong> (<em>None</em><em>, </em><em>False</em><em>, or </em><em>int/float</em><em>, </em><em>default=None</em>) – Type of padding to be applied to returned array.
- None: No padding, partial means are included for first n-1 elements.
- False: First n-1 elemnts are skipped and not included.
- int/float: First n-1 elements are replaced with any number (e.g., 0).
- list/tuple: First n-1 elements are replaced by list/tuple of size n-1.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ret</strong> – Return a new array that is rolling mean of original.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.rolling_sum">
<code class="descclassname">lgimapy.utils.</code><code class="descname">rolling_sum</code><span class="sig-paren">(</span><em>a</em>, <em>n</em>, <em>pad=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.rolling_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Vectorized implementation of a rolling sum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> (<em>array_like</em>) – Calculate rolling sum of these values.</li>
<li><strong>n</strong> (<em>int</em>) – Number of elements to include in rolling sum.</li>
<li><strong>pad</strong> (<em>None</em><em>, </em><em>False</em><em>, or </em><em>int/float</em><em>, </em><em>default=None</em>) – Type of padding to be applied to returned array.
- None: No padding, partial sums are included for first n-1 elements.
- False: First n-1 elements are skipped and not included.
- int/float: First n-1 elements are replaced with any number (e.g., 0).
- list/tuple: First n-1 elements are replaced by list/tuple of size n-1.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ret</strong> – Return a new array that is rolling sum of original.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.root">
<code class="descclassname">lgimapy.utils.</code><code class="descname">root</code><span class="sig-paren">(</span><em>join_path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.root" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path from root directory of the project.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>join_path</strong> (<em>str</em><em>, </em><em>Path</em><em>, </em><em>default=None</em>) – Path to join to root directoyr of project.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>root_path</strong> – Path of root directory and joined path.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.smooth_weight">
<code class="descclassname">lgimapy.utils.</code><code class="descname">smooth_weight</code><span class="sig-paren">(</span><em>x</em>, <em>B</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.smooth_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight functcion for smoothing two overlapping curves.</p>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.to_datetime">
<code class="descclassname">lgimapy.utils.</code><code class="descname">to_datetime</code><span class="sig-paren">(</span><em>date</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.to_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a datetime object to pandas datetime only if necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<em>datetime</em>) – Date in any datetime type e.g., str.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Pandas datetime object of input date.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pd._libs.tslibs.timestamps.Timestamp</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lgimapy.utils.to_list">
<code class="descclassname">lgimapy.utils.</code><code class="descname">to_list</code><span class="sig-paren">(</span><em>obj</em>, <em>dtype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#lgimapy.utils.to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert single object to list if it is not already
a list-like object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>obj</strong> – Object to convert to list if required.</li>
<li><strong>dtype</strong> (<em>type</em>) – Data type of object to check against/ data type
of object in output list. If None the dtype is checked
against <code class="docutils literal notranslate"><span class="pre">`list`</span></code> and <code class="docutils literal notranslate"><span class="pre">`tuple`</span></code> and converted to
<code class="docutils literal notranslate"><span class="pre">`list`</span></code> if it is neither.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List-like version of input object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list-like</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">lgimapy: LGIMA’s powerful Python analysis package</a><ul>
<li><a class="reference internal" href="#module-lgimapy.data">lgimapy data</a></li>
<li><a class="reference internal" href="#module-lgimapy.models">lgimapy models</a></li>
<li><a class="reference internal" href="#module-lgimapy.bloomberg">lgimapy bloomberg</a></li>
<li><a class="reference internal" href="#module-lgimapy.vis">lgimapy vis</a></li>
<li><a class="reference internal" href="#module-lgimapy.latex">lgimapy latex</a></li>
<li><a class="reference internal" href="#module-lgimapy.daily_scripts">lgimapy daily_scripts</a></li>
<li><a class="reference internal" href="#module-lgimapy.utils">lgimapy utils</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">lgimapy 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Jason R. Becker.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>